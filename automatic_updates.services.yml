
services:
  automatic_updates.recommender:
    class: Drupal\automatic_updates\UpdateRecommender
    arguments: ['@update.manager', '@update.processor']
  automatic_updates.updater:
    class: Drupal\automatic_updates\Updater
    arguments: ['@state','@automatic_updates.beginner', '@automatic_updates.stager', '@automatic_updates.cleaner', '@automatic_updates.committer']
  automatic_updates.beginner:
    class: PhpTuf\ComposerStager\Domain\Beginner
    arguments:
      [ '@automatic_updates.file_copier', '@automatic_updates.file_system' ]
  automatic_updates.stager:
    class: PhpTuf\ComposerStager\Domain\Stager
    arguments:
      [ '@automatic_updates.composer_runner', '@automatic_updates.file_system' ]
  automatic_updates.cleaner:
    class: PhpTuf\ComposerStager\Domain\Cleaner
    arguments:
      [ '@automatic_updates.file_system' ]
  automatic_updates.committer:
    class: PhpTuf\ComposerStager\Domain\Committer
    arguments:
      [ '@automatic_updates.file_copier', '@automatic_updates.file_system' ]
  automatic_updates.composer_runner:
    class: PhpTuf\ComposerStager\Infrastructure\Process\Runner\ComposerRunner
    arguments:
      [ '@automatic_updates.exec_finder', '@automatic_updates.process_factory' ]
  automatic_updates.file_copier:
    class: PhpTuf\ComposerStager\Infrastructure\Process\FileCopier
    arguments:
      [ '@automatic_updates.rsync' ]
  automatic_updates.file_system:
    class: PhpTuf\ComposerStager\Infrastructure\Filesystem\Filesystem
    arguments:
      [ '@automatic_updates.symfony_file_system' ]
  automatic_updates.symfony_file_system:
    class: Symfony\Component\Filesystem\Filesystem
  automatic_updates.symfony_exec_finder:
    class: Symfony\Component\Process\ExecutableFinder
  automatic_updates.rsync:
    class: PhpTuf\ComposerStager\Infrastructure\Process\Runner\RsyncRunner
    arguments:
      [ '@automatic_updates.exec_finder', '@automatic_updates.process_factory' ]
  automatic_updates.exec_finder:
    class: PhpTuf\ComposerStager\Infrastructure\Process\ExecutableFinder
    arguments:
      [ '@automatic_updates.symfony_exec_finder' ]
  automatic_updates.process_factory:
    class: Drupal\automatic_updates\ProcessFactory